{% extends "base.html" %}
{% block content %}
        <div class="gov-container">
            <div class="gov-header">
                <h2><i class="fas fa-file-alt"></i> Government Disaster Reports</h2>
                <p>Manage and monitor submitted disaster reports</p>
            </div>

            {% if reports %}
                <div style="overflow-x: auto;">
                    <table class="gov-table">
                        <thead>
                            <tr>
                                <th><i class="fas fa-heading"></i> Report Title</th>
                                <th><i class="fas fa-exclamation-triangle"></i> Severity Level</th>
                                <th><i class="fas fa-map-marker-alt"></i> Affected Areas</th>
                                <th><i class="fas fa-calendar"></i> Timeframe</th>
                                <th><i class="fas fa-cogs"></i> Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for r in reports %}
                            <tr>
                                <td>
                                    <strong>{{ r['title'] }}</strong>
                                </td>
                                <td>
                                    <span class="status-badge status-{{ r['severity'].lower() }}">
                                        {{ r['severity'] }}
                                    </span>
                                </td>
                                <td>{{ r['affected_areas'] }}</td>
                                <td>{{ r['timeframe'] if r['timeframe'] else 'Not specified' }}</td>
                                <td>
                                    <div style="display: flex; gap: 0.5rem; flex-wrap: wrap;">
                                        <a class="btn-gov-success" href="{{ url_for('gov_edit_report', report_id=r['id']) }}" style="text-decoration: none;">
                                            <i class="fas fa-edit"></i> Edit
                                        </a>
                                        <form method="POST" action="{{ url_for('gov_delete_report', report_id=r['id']) }}" style="display:inline; margin: 0;">
                                            <button class="btn-gov-danger" onclick="return confirm('Are you sure you want to delete this report? This action cannot be undone.')" type="submit">
                                                <i class="fas fa-trash"></i> Delete
                                            </button>
                                        </form>
                                    </div>
                                </td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            {% else %}
                <div class="text-center" style="padding: 3rem; color: var(--gray);">
                    <i class="fas fa-inbox" style="font-size: 3rem; margin-bottom: 1rem; opacity: 0.5;"></i>
                    <h3>No Reports Found</h3>
                    <p>You haven't submitted any disaster reports yet.</p>
                    <a href="{{ url_for('gov_report_form') }}" class="btn-gov-primary mt-3">
                        <i class="fas fa-plus"></i> Create New Report
                    </a>
                </div>
            {% endif %}

            <div class="text-center mt-3">
                <a href="{{ url_for('gov_report_form') }}" class="btn-gov-primary">
                    <i class="fas fa-plus"></i> Add New Report
                </a>
                <a href="{{ url_for('home') }}" class="btn-gov-success">
                    <i class="fas fa-home"></i> Back to Dashboard
                </a>
            </div>
        </div>
{% endblock %}